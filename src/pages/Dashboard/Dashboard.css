/* RESET E LAYOUT CARTESIANO */
* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
    font-family: 'Montserrat', sans-serif; 
}

.cartesian-plane {
    display: grid;
    grid-template-columns: 0.9fr 1.1fr;
    grid-template-rows: 1.1fr 0.9fr;
    width: 100vw;
    height: 100vh;
    background-color: #1a202c;
    gap: 4px;
    overflow: hidden;
    transition: all 0.4s ease-in-out;
}

/* MODO FOCO */
.cartesian-plane.focus-mode {
    grid-template-columns: 1fr !important;
    grid-template-rows: 1fr !important;
    gap: 0;
}

.focus-mode .q2, .focus-mode .q3, .focus-mode .q4 { display: none !important; }

/* QUADRANTES ESTÉTICA */
.quadrant { width: 100%; height: 100%; display: flex; overflow: hidden; background-color: #ffffff; }
.q2 { background-color: #e3f2fd !important; color: #1976d2; justify-content: center; align-items: center; }
.q3 { background-color: #fffaf0 !important; color: #e65100; justify-content: center; align-items: center; }
.q4 { background-color: #f1f8e9 !important; color: #33691e; justify-content: center; align-items: center; }

/* 1º QUADRANTE - CHAT */
.q1 { background-color: #ffffff !important; }
.forum-wrapper { display: flex; width: 100%; height: 100%; }

/* SIDEBAR */
.sidebar {
    width: 280px;
    background-color: #f8fafc !important;
    border-right: 1px solid #e2e8f0;
    display: flex;
    flex-direction: column;
}

.sidebar-header {
    padding: 20px;
    border-bottom: 1px solid #e2e8f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.role-badge { font-size: 0.6rem; background: #edf2f7 !important; color: #4a5568 !important; padding: 2px 6px; border-radius: 4px; }
.topic-list { flex: 1; overflow-y: auto; padding: 10px; }
.topic-card { padding: 12px 15px; border-radius: 8px; cursor: pointer; margin-bottom: 8px; background: #fff !important; border: 1px solid #edf2f7; }
.topic-card.active { border-color: #3182ce; background-color: #ebf8ff !important; }
.topic-info strong { display: block; font-size: 0.85rem; color: #2d3748; background: transparent !important; }
small.open { color: #38a169; font-weight: bold; background: transparent !important; }
small.closed { color: #e53e3e; font-weight: bold; background: transparent !important; }

/* CHAT WINDOW */
.chat-window { flex: 1; display: flex; flex-direction: column; background-color: #f0f2f5 !important; }
.chat-header-focus { display: flex; align-items: center; padding: 15px 25px; background: #fff !important; border-bottom: 1px solid #e2e8f0; gap: 20px; }
.back-btn { background: #edf2f7 !important; border: none; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: bold; }
.chat-messages { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }

/* MENSAGENS E BOLHAS (CORES E LEGIBILIDADE) */
.message-row { display: flex; gap: 10px; max-width: 80%; align-items: flex-end; }
.message-row.administrador, .message-row.moderador { align-self: flex-end; flex-direction: row-reverse; }

.msg-avatar { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: bold; color: #fff !important; }
.comum .msg-avatar { background: #a0aec0 !important; }
.administrador .msg-avatar { background: #1a365d !important; }
.moderador .msg-avatar { background: #44337a !important; }

.msg-bubble { padding: 12px 16px; border-radius: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

/* RESET TEXTO (Anula o branco do index.css) */
.msg-bubble * { background-color: transparent !important; }

/* CORES DAS BOLHAS */
.comum .msg-bubble { background-color: #ffffff !important; color: #2d3748 !important; }
.administrador .msg-bubble { background-color: #1a365d !important; color: #ffffff !important; }
.moderador .msg-bubble { background-color: #44337a !important; color: #ffffff !important; }

/* Forçar cor do texto para papéis administrativos */
.administrador .msg-bubble *, .moderador .msg-bubble * { color: #ffffff !important; }
.msg-bubble .tag { font-size: 0.55rem; opacity: 0.8; padding: 1px 4px; border-radius: 3px; background: rgba(0,0,0,0.1) !important; margin-left: 5px; }
.administrador .tag, .moderador .tag { background: rgba(255,255,255,0.2) !important; }

/* INPUT E LOGOUT */
.chat-input-container { padding: 20px; background: #fff !important; display: flex; gap: 10px; border-top: 1px solid #